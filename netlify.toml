# Netlify configuration (repo root)
# App lives in app/; functions in netlify/functions

[build]
base = "app"
command = "pnpm run build"
publish = ".next"
functions = "netlify/functions"

[build.environment]
# Public/non-secret values that are expected to appear in bundled output and docs.
SECRETS_SCAN_OMIT_KEYS = "NEXT_PUBLIC_SOLANA_RPC_URL,SOLANA_NETWORK"

[dev]
# 从根目录用 -C app 在 app 下跑 next dev，避免 cd 子进程提前退出
command = "pnpm -C app run dev"
port = 8888
targetPort = 3000
framework = "next"
autoLaunch = true
