/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  combineCodec,
  getBooleanDecoder,
  getBooleanEncoder,
  getStructDecoder,
  getStructEncoder,
  getU64Decoder,
  getU64Encoder,
  type FixedSizeCodec,
  type FixedSizeDecoder,
  type FixedSizeEncoder,
} from "@solana/kit";

/** Hub configuration */
export type HubConfig = {
  /** Whether new providers need approval */
  requireProviderApproval: boolean;
  /** Whether new endorsers need approval */
  requireEndorserApproval: boolean;
  /** Minimum reputation score for auto-acceptance */
  minReputationScore: bigint;
  /** Whether to allow self-endorsement */
  allowSelfEndorsement: boolean;
};

export type HubConfigArgs = {
  /** Whether new providers need approval */
  requireProviderApproval: boolean;
  /** Whether new endorsers need approval */
  requireEndorserApproval: boolean;
  /** Minimum reputation score for auto-acceptance */
  minReputationScore: number | bigint;
  /** Whether to allow self-endorsement */
  allowSelfEndorsement: boolean;
};

export function getHubConfigEncoder(): FixedSizeEncoder<HubConfigArgs> {
  return getStructEncoder([
    ["requireProviderApproval", getBooleanEncoder()],
    ["requireEndorserApproval", getBooleanEncoder()],
    ["minReputationScore", getU64Encoder()],
    ["allowSelfEndorsement", getBooleanEncoder()],
  ]);
}

export function getHubConfigDecoder(): FixedSizeDecoder<HubConfig> {
  return getStructDecoder([
    ["requireProviderApproval", getBooleanDecoder()],
    ["requireEndorserApproval", getBooleanDecoder()],
    ["minReputationScore", getU64Decoder()],
    ["allowSelfEndorsement", getBooleanDecoder()],
  ]);
}

export function getHubConfigCodec(): FixedSizeCodec<HubConfigArgs, HubConfig> {
  return combineCodec(getHubConfigEncoder(), getHubConfigDecoder());
}
